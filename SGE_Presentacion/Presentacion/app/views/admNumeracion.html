<div class="title-left">
  <h1>LISTADO DE NUMERACIONES</h1>
</div>
<div class="row">
    <div class="btn-right">
        <button class="btn btn-primary" data-ng-click="verMdlAgregar()">
          <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
          AGREGAR
        </button>
    </div>
    <div id="divLoading"></div>
    <div id="divAlert"></div>
    <div data-ng-if="verTabla">
        <table class="table table-bordered">
            <thead>
                <tr>
                    <th>N°</th>
                    <th>DESCRIPCIÓN</th>
                    <th>DOCUMENTO</th>
                    <th>N° ACTUAL</th>
                    <th class="text-center">ACTIVO</th>
                    <th class="text-center">EDITAR</th>
                    <th class="text-center">ELIMINAR</th>
            </thead>
            <tbody>
                <tr data-ng-repeat="numeracion in numeraciones">
                    <td>{{$index + 1}}</td>
                    <td>{{numeracion.descripcion}}</td>
                    <td data-ng-document="{{numeracion.documento}}"></td>
                    <td>{{numeracion.numeroActual}}</td>
                    <td class="text-center">
                      <input type="checkbox" data-ng-model="numeracion.activo" data-ng-disabled="true">
                    </td>
                    <td class="text-center">
                        <button class="btn btn_link" data-ng-click="verMdlActualizar(numeracion)">
                            <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
                        </button> 
                    </td>
                    <td class="text-center">
                        <button class="btn btn_link" data-ng-click="verMdlEliminar(numeracion)">
                            <span class="glyphicon glyphicon-trash" aria-hidden="true"></span>
                        </button>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
</div>
<!-- AGREGAR -->
<script type="text/ng-template" id="mdlAgregar">
  <div class="modal-header">
      <button type="button" class="close" data-ng-click="cerrarMdlAgregar()">&times;</button>
      <h4 class="modal-title"><strong>AGREGAR NUMERACIÓN</strong></h4>
  </div>
  <div class="modal-body">
      <form class="form-horizontal" name="frmAgregar">
        <div class="form-group">
          <label class="col-sm-3 control-label">Descripción</label>
          <div class="col-sm-9">
            <input type="text" class="form-control" data-ng-model="$parent.numeracion.descripcion" data-ng-required="true">
          </div>  
        </div>
        <div class="form-group">
          <label class="col-sm-3 control-label">Documento</label>
          <div class="col-sm-9">
            <select-document data-ng-model="$parent.numeracion.documento" data-ng-required="true"></select-document>
          </div>  
        </div>
        <div class="form-group">
          <div class="col-sm-offset-3 col-sm-9">
            <div class="checkbox">
              <label>
                <input type="checkbox" data-ng-model="$parent.numeracion.automatico"> Automático
              </label>
            </div>
          </div>
        </div>
        <div class="form-group">
          <label class="col-sm-3 control-label">Serie</label>
          <div class="col-sm-9">
            <input type="text" class="form-control" data-ng-model="$parent.numeracion.serie" data-ng-disabled="!$parent.numeracion.automatico" data-ng-required="$parent.numeracion.automatico">
          </div>  
        </div>
        <div class="form-group" data-ng-class="{'has-error': frmAgregar.numeroActual.$invalid}">
          <label class="col-sm-3 control-label">N° Actual</label>
          <div class="col-sm-9">
            <input type="number" class="form-control" name="numeroActual" data-ng-model="$parent.numeracion.numeroActual" data-ng-pattern="/^[0-9]+$/" data-ng-disabled="!$parent.numeracion.automatico" data-ng-required="$parent.numeracion.automatico">
            <span class="help-block" data-ng-show="!frmAgregar.numeroActual.$valid" data-ng-text="SOLO_ENTEROS">
            </span>
          </div>  
        </div>
        <div class="form-group" data-ng-class="{'has-error': frmAgregar.longitudNumero.$invalid}">
          <label class="col-sm-3 control-label">Longitud N°</label>
          <div class="col-sm-9">
            <input type="number" class="form-control" name="longitudNumero" data-ng-model="$parent.numeracion.longitudNumero" data-ng-pattern="/^[0-9]+$/" data-ng-disabled="!$parent.numeracion.automatico" data-ng-required="$parent.numeracion.automatico">
            <span class="help-block" data-ng-show="!frmAgregar.longitudNumero.$valid" data-ng-text="SOLO_ENTEROS">
            </span>
          </div>
        </div>
        <div class="form-group">
          <div class="col-sm-offset-3 col-sm-9">
            <div class="checkbox">
              <label>
                <input type="checkbox" data-ng-model="$parent.numeracion.impuesto"> Impuesto
              </label>
            </div>
          </div>
        </div>
        <div class="form-group" data-ng-class="{'has-error': frmAgregar.porcentajeImpuesto.$invalid}">
          <label class="col-sm-3 control-label">% Impuesto</label>
          <div class="col-sm-9">
            <input type="number" name="porcentajeImpuesto" class="form-control" data-ng-model="$parent.numeracion.porcentajeImpuesto" data-ng-disabled="!$parent.numeracion.impuesto" data-ng-required="$parent.numeracion.impuesto">
            <span class="help-block" data-ng-show="!frmAgregar.porcentajeImpuesto.$valid" data-ng-text="SOLO_NUMEROS">
            </span>
          </div>  
        </div>
        <div class="form-group">
          <div class="col-sm-offset-3 col-sm-9">
            <div class="checkbox">
              <label>
                <input type="checkbox" data-ng-model="$parent.numeracion.activo"> Activo
              </label>
            </div>
          </div>
        </div>
      </form>
  </div>
  <div class="modal-footer">
      <button class="btn btn-primary" data-ng-click="agregar(frmAgregar)" data-ng-disabled="frmAgregar.$invalid">AGREGAR</button>
      <button class="btn btn-default" data-ng-click="cerrarMdlAgregar()">CANCELAR</button>
  </div>
</script>
<!-- ACTUALIZAR -->
<script type="text/ng-template" id="mdlActualizar">
  <div class="modal-header">
      <button type="button" class="close" data-ng-click="cerrarMdlActualizar()">&times;</button>
      <h4 class="modal-title"><strong>ACTUALIZAR NUMERACIÓN</strong></h4>
  </div>
  <div class="modal-body">
      <form class="form-horizontal" name="frmActualizar">
        <div class="form-group">
          <label class="col-sm-3 control-label">Descripción</label>
          <div class="col-sm-9">
            <input type="text" class="form-control" data-ng-model="$parent.numeracion.descripcion" data-ng-required="true">
          </div>  
        </div>
        <div class="form-group">
          <label class="col-sm-3 control-label">Documento</label>
          <div class="col-sm-9">
            <select-document data-ng-model="$parent.numeracion.documento" data-ng-required="true"></select-document>
          </div>  
        </div>
        <div class="form-group">
          <div class="col-sm-offset-3 col-sm-9">
            <div class="checkbox">
              <label>
                <input type="checkbox" data-ng-model="$parent.numeracion.automatico"> Automático
              </label>
            </div>
          </div>
        </div>
        <div class="form-group">
          <label class="col-sm-3 control-label">Serie</label>
          <div class="col-sm-9">
            <input type="text" class="form-control" data-ng-model="$parent.numeracion.serie" data-ng-disabled="!$parent.numeracion.automatico" data-ng-required="$parent.numeracion.automatico">
          </div>  
        </div>
        <div class="form-group" data-ng-class="{'has-error': frmActualizar.numeroActual.$invalid}">
          <label class="col-sm-3 control-label">N° Actual</label>
          <div class="col-sm-9">
            <input type="number" class="form-control" name="numeroActual" data-ng-model="$parent.numeracion.numeroActual" data-ng-pattern="/^[0-9]+$/" data-ng-disabled="!$parent.numeracion.automatico" data-ng-required="$parent.numeracion.automatico">
            <span class="help-block" data-ng-show="!frmActualizar.numeroActual.$valid" data-ng-text="SOLO_ENTEROS">
            </span>
          </div>  
        </div>
        <div class="form-group" data-ng-class="{'has-error': frmActualizar.longitudNumero.$invalid}">
          <label class="col-sm-3 control-label">Longitud N°</label>
          <div class="col-sm-9">
            <input type="number" class="form-control" name="longitudNumero" data-ng-model="$parent.numeracion.longitudNumero" data-ng-pattern="/^[0-9]+$/" data-ng-disabled="!$parent.numeracion.automatico" data-ng-required="$parent.numeracion.automatico">
            <span class="help-block" data-ng-show="!frmActualizar.longitudNumero.$valid" data-ng-text="SOLO_ENTEROS">
            </span>
          </div>
        </div>
        <div class="form-group">
          <div class="col-sm-offset-3 col-sm-9">
            <div class="checkbox">
              <label>
                <input type="checkbox" data-ng-model="$parent.numeracion.impuesto"> Impuesto
              </label>
            </div>
          </div>
        </div>
        <div class="form-group" data-ng-class="{'has-error': frmActualizar.porcentajeImpuesto.$invalid}">
          <label class="col-sm-3 control-label">% Impuesto</label>
          <div class="col-sm-9">
            <input type="number" name="porcentajeImpuesto" class="form-control" data-ng-model="$parent.numeracion.porcentajeImpuesto" data-ng-disabled="!$parent.numeracion.impuesto" data-ng-required="$parent.numeracion.impuesto">
            <span class="help-block" data-ng-show="!frmActualizar.porcentajeImpuesto.$valid" data-ng-text="SOLO_NUMEROS">
            </span>
          </div>  
        </div>
        <div class="form-group">
          <div class="col-sm-offset-3 col-sm-9">
            <div class="checkbox">
              <label>
                <input type="checkbox" data-ng-model="$parent.numeracion.activo"> Activo
              </label>
            </div>
          </div>
        </div>
      </form>
  </div>
  <div class="modal-footer">
      <button class="btn btn-primary" data-ng-click="actualizar(frmActualizar)" data-ng-disabled="frmActualizar.$invalid">ACTUALIZAR</button>
      <button class="btn btn-default" data-ng-click="cerrarMdlActualizar()">CANCELAR</button>
  </div>
</script>
<!-- ELIMINAR -->
<script type="text/ng-template" id="mdlEliminar">
  <div class="modal-header">
      <button type="button" class="close" data-ng-click="cerrarMdlEliminar()">&times;</button>
      <h4 class="modal-title"><strong>ELIMINAR NUMERACIÓN</strong></h4>
  </div>
  <div class="modal-body">
    ¿Confirma la eliminación de la numeración <strong>{{numeracion.descripcion}}</strong> ?
  </div>
  <div class="modal-footer">
      <button class="btn btn-primary" data-ng-click="eliminar()" >ELIMINAR</button>
      <button class="btn btn-default" data-ng-click="cerrarMdlEliminar()">CANCELAR</button>
  </div>
</script>